{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GEM5 Parser Configuration",
  "description": "Schema for configuring the gem5 statistics parser.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string"
      },
      "impl": {
        "type": "string",
        "enum": ["perl", "python"]
      },
      "compress": {
        "type": "string",
        "enum": ["True", "False"]
      },
      "parsings": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string"
            },
            "files": {
              "type": "string"
            },
            "vars": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "parsed_ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "scalar",
                      "vector",
                      "distribution",
                      "configuration"
                    ]
                  },
                  "vectorEntries": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "useSpecialMembers": {
                    "type": "boolean"
                  },
                  "minimum": {
                    "type": "number"
                  },
                  "maximum": {
                    "type": "number"
                  },
                  "onEmpty": {
                    "type": "string"
                  },
                  "repeat": {
                    "type": ["string", "integer"]
                  }
                },
                "required": ["id", "type"]
              }
            }
          },
          "required": ["path", "files", "vars"]
        }
      }
    },
    "required": ["id", "impl", "parsings"]
  }
}
